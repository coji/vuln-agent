# vuln-agent 実装計画

## プロジェクト概要

vuln-agent は、コードベースの脆弱性を検出するためのセキュリティ分析ツールです。

## 実装フェーズ

### フェーズ1: プロジェクト基盤構築

#### 1.1 プロジェクト構造の整備

- [ ] src/ディレクトリの作成
- [ ] 基本的なモジュール構成の定義
  - [ ] src/core/ - コア機能
  - [ ] src/rules/ - ルール定義
  - [ ] src/analyzers/ - 分析エンジン
  - [ ] src/reporters/ - レポート生成
  - [ ] src/cli/ - CLIインターフェース

#### 1.2 TypeScript設定

- [ ] tsconfig.jsonの作成
- [ ] 型定義の基本設定
- [ ] strictモードの有効化

### フェーズ2: コア機能の実装

#### 2.1 脆弱性検出エンジン

- [ ] パターンマッチング機能
  - [ ] 正規表現ベースの検出
  - [ ] ASTベースの検出準備
- [ ] 静的解析機能の基礎
  - [ ] ファイルパーサー
  - [ ] 基本的な脆弱性パターン定義

#### 2.2 入出力処理

- [ ] ファイル読み込み機能
  - [ ] 単一ファイル処理
  - [ ] ディレクトリ再帰処理
  - [ ] ファイルフィルタリング
- [ ] レポート生成機能
  - [ ] JSON形式
  - [ ] Markdown形式
  - [ ] コンソール出力

### フェーズ3: 拡張機能

#### 3.1 ルールセット管理

- [ ] カスタムルールの定義
  - [ ] YAMLベースのルール定義
  - [ ] ルールの優先度設定
- [ ] ルールの読み込み・適用
  - [ ] デフォルトルールセット
  - [ ] カスタムルールの動的読み込み

#### 3.2 統合機能

- [ ] CLI インターフェース
  - [ ] コマンドライン引数処理
  - [ ] 設定オプション
  - [ ] ヘルプ機能
- [ ] 設定ファイル対応
  - [ ] .vuln-agentrc.json
  - [ ] 環境変数サポート

### フェーズ4: 品質向上

#### 4.1 テスト実装

- [ ] ユニットテスト
  - [ ] 各モジュールのテスト
  - [ ] エッジケースのカバー
- [ ] 統合テスト
  - [ ] エンドツーエンドテスト
  - [ ] パフォーマンステスト

#### 4.2 ドキュメント整備

- [ ] 使用方法ドキュメント
  - [ ] インストール手順
  - [ ] 基本的な使い方
  - [ ] 高度な設定
- [ ] API ドキュメント
  - [ ] 関数の説明
  - [ ] 型定義の説明

## 技術スタック

- **言語**: TypeScript
- **パッケージマネージャー**: pnpm
- **テストフレームワーク**: Vitest
- **リンター**: Biome
- **フォーマッター**: Prettier

## コーディング規約

- 関数型プログラミングスタイルを採用
- クラスは使用せず、関数とクロージャで実装
- 不変性を重視し、新しいオブジェクト/配列を返す
- TypeScript strictモードを使用

## 次のステップ

フェーズ1から順次実装を開始します。各フェーズの完了時に確認を行い、次のフェーズへ進みます。
